<!-- app/views/analyze/index.html.erb -->
<!DOCTYPE html>
<html>
  <head>
    <title>Analyze a Property Link</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= javascript_importmap_tags %>
    <style>
      <%= render partial: 'analyze/styles' %>
    </style>
  </head>
  <body>
    <!-- CRITICAL: data-controller name must match the file name -->
    <div data-controller="property-analyzer">
      <h1>Analyze a Property Link</h1>
      <p style="color: #9ca3af; margin-bottom: 2rem;">Paste a PropertyFinder, Bayut, or Dubizzle URL to see rental economics</p>

      <%= render 'analyze/url_input' %>
      <%= render 'analyze/mode_selector' %>
      <%= render 'analyze/controls' %>
      
      <div data-property-analyzer-target="results"></div>
    </div>
  </body>
</html>